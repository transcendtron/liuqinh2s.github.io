---
layout: post
title: 操作系统简要笔记
categories: 文章
tags: [操作系统]
comments: true
---

## 进程管理

## 内存管理

内存管理的功能有：
- 内存空间的分配和回收：由操作系统完成主存储器空间的分配和管理，使程序员摆脱存储分配的麻烦，提高编程的效率。
- 地址转换：在多道程序环境下，程序中的逻辑地址与内存中的物理地址不可能一致，因此存储管理必须提供地址变换功能，把逻辑地址转换成相应的物理地址。
- 内存空间的扩充：利用虚拟存储技术或自动覆盖技术，从逻辑上扩充内存
- 存储保护：保证各道作业在各自的存储空间中运行，互不干扰

C和C++程序装入和链接：
1. 预编译
2. 编译
3. 汇编
4. 链接
5. 装入

程序链接有三种方式：
- 静态链接：在程序运行之前，先将各目标模块及它们所需的库函数链接成一个完整的可执行程序，再装入内存。
- 装入时动态链接：将用户源程序编译后得到的一组目标模块，在装入内存时，采用边装入边链接的链接方式。
- 运行时动态链接：对某些目标模块的链接，是在程序执行中需要该目标模块时，才对它进行链接。其优点是便于修改和更新，便于实现对目标模块的共享。缺点是把装入时间打散到程序运行期间，牺牲了程序运行中的时间。

装入时同样有三种方式：
- 绝对装入：只适用于单道程序环境，使用内存物理地址装入。
- 可重定位装入：也称，静态重定位，使用相对地址，装入时转换成绝对地址（地址变换一次性完成）。
- 动态运行时装入：也称，动态重定位，使用相对地址，装入时，使用重定位寄存器，转换成绝对地址（地址变换可多次进行，可以将程序分配到不连续的存储区，在程序开始运行时只装入一部分代码即可投入运行，后期在程序运行期间可再动态申请内存）。

内存保护可以采取两种方法：
- 在CPU中设置一对上、下限寄存器，存放用户作业在主存中的上限、下限地址，每当CPU要访问一个地址时，分别和两个寄存器的值比较，判断有无越界。
- 采用界地址寄存器（又称限长寄存器）和重定位寄存器（或基址寄存器）来实现保护。首先每个逻辑地址值必须小于界地址寄存器的值，然后再加上基址，映射成物理地址。
